package_name: snipsOWM
class_name: SnipsOWM
description: Open Weather Map skill for Snips
parameters: ["api_key", "default_location", "tts_service"]
intents:
  - intent: SearchWeatherForecastCondition
    action: >
      {%
        location = None
        if intent.weatherForecastLocality is not None:
          location = intent.weatherForecastLocality
        elif intent.weatherForecastCountry is not None:
          location = intent.weatherForecastCountry
        elif intent.weatherForecastRegion is not None:
          location = intent.weatherForecastRegion
        elif intent.weatherForecastGeographicalPOI is not None:
          location = intent.weatherForecastGeographicalPOI


        time = intent.weatherForecastStartDatetime
        condition = intent.weatherForecastConditionName

        skill.speak_condition(condition, location, time)
      %}
  - intent: SearchWeatherForecastItem
    action: >
      {%
        location = None
        if intent.weatherForecastLocality is not None:
          location = intent.weatherForecastLocality
        elif intent.weatherForecastCountry is not None:
          location = intent.weatherForecastCountry
        elif intent.weatherForecastRegion is not None:
          location = intent.weatherForecastRegion
        elif intent.weatherForecastGeographicalPOI is not None:
          location = intent.weatherForecastGeographicalPOI
          

        time = intent.weatherForecastStartDatetime
        item = intent.weatherForecastItemName

        skill.speak_condition(item, location, time)
      %}
  - intent: SearchWeatherForecast
    action: >
      {%
        location = None
        if intent.weatherForecastLocality is not None:
          location = intent.weatherForecastLocality
        elif intent.weatherForecastCountry is not None:
          location = intent.weatherForecastCountry
        elif intent.weatherForecastRegion is not None:
          location = intent.weatherForecastRegion
        elif intent.weatherForecastGeographicalPOI is not None:
          location = intent.weatherForecastGeographicalPOI
          

        time = intent.weatherForecastStartDatetime

        skill.speak_condition(None, location, time)
      %}
  - intent: SearchWeatherForecastTemperature
    action: >
      {%
        location = None
        if intent.weatherForecastLocality is not None:
          location = intent.weatherForecastLocality
        elif intent.weatherForecastCountry is not None:
          location = intent.weatherForecastCountry
        elif intent.weatherForecastRegion is not None:
          location = intent.weatherForecastRegion
        elif intent.weatherForecastGeographicalPOI is not None:
          location = intent.weatherForecastGeographicalPOI
          

        time = intent.weatherForecastStartDatetime

        skill.speak_temperature(location, time)
      %}